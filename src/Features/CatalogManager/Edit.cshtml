@model RolleiShop.Features.CatalogManager.Edit.Command

<main class="ui text container">
  <div class = "ui huge header"> Edit @Model.Name </div>
  <a asp-action="Index">Back to List</a> 
  <hr />

  <img alt="@Model.Name" src="@Model.ImageUrl" class="ui medium image">
  <div style="padding-top:20px"/>

  <form asp-action="Edit" class="ui form edit">
    <div asp-validation-summary="All" class="text-danger"></div>

    @if (User.IsInRole("Admin"))
    {
    <div class="field">
      <label asp-for="Name" class="label"></label>
      <input asp-for="Name" type="text"></input>
    </div>

    <div class="field">
      <label asp-for="Brand" class="label"></label>
      <input asp-for="Brand" type="text"></input>
    </div>

    <div class="field">
      <label asp-for="Type" class="label"></label>
      <input asp-for="Type" type="text"></input>
    </div>
    }
    else
    {
    <div class="disabled field">
      <label asp-for="Name" class="label"></label>
      <input asp-for="Name" readonly="" type="text"></input>
    </div>

    <div class="disabled field">
      <label asp-for="Brand" class="label"></label>
      <input asp-for="Brand" readonly="" type="text"></input>
    </div>

    <div class="disabled field">
      <label asp-for="Type" class="label"></label>
      <input asp-for="Type" readonly="" type="text"></input>
    </div>
    }
    <div class="field">
      <label asp-for="Description" class="label"></label>
      <textarea  asp-for="Description" type="text"></textarea>
    </div>

    <div class="field">
      <label asp-for="Stock" class="label"></label>
      <input asp-for="Stock" type="text"></input>
    </div>

    <div class="field">
      <label asp-for="Price" class="label"></label>
      <input for="Price" asp-for="Price" type="text"></input>
    </div>

    <div class="form-group">
    @if (User.IsInRole("Admin"))
    {
      <button type="submit" class="ui primary button">Save</button>
    }
    else
    {
      <button type="submit" class="ui disabled button">Save</button>
    }
    </div>
  </form>
</main>

@section scripts
{
  <script>
    $(document).ready(function(){
      $('.ui.form.edit')
        .form({
          fields: {
            Description : 'empty',
            Stock       : 'integer',
            Price       : 'empty'
          }
        })
      ;
    });
  </script>
}
